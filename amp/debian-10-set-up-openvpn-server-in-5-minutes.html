<!doctype html><html amp lang="en"><head><meta charset="utf-8"><title>Debian 10 Set Up OpenVPN Server In 5 Minutes - fachinformatiker.app</title><meta name="description" content="Neues zum Thema Technik, Medien, etc.
Gerne bringe ich dir auch in meinen Tutorials, schriftlich wie auch audiovisuell, neues bei und erweitere dein Wissen."><link rel="canonical" href="https://fachinformatiker.github.io/fachinformatiker.github.io/debian-10-set-up-openvpn-server-in-5-minutes.html"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet" type="text/css"><script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script><script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script><script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script><script async custom-element="amp-video" src="https://cdn.ampproject.org/v0/amp-video-0.1.js"></script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fachinformatiker.github.io/fachinformatiker.github.io/amp/debian-10-set-up-openvpn-server-in-5-minutes.html"},"headline":"Debian 10 Set Up OpenVPN Server In 5 Minutes","datePublished":"2019-12-23T12:24","dateModified":"2020-05-12T08:44","description":"<p><strong>Introduction</strong> OpenVPN is a full-featured SSL VPN (virtual private network). It implements OSI layer 2 or 3 secure network extension using the SSL/TLS protocol. It is an open source software and distributed under the GNU GPL. A VPN allows you to connect securely to an insecure public network such as wifi network at the airport or hotel. VPN is also required to access your corporate or enterprise or home server resources. You can bypass the geo-blocked site and increase your privacy or safety online. This tutorial provides step-by-step instructions for configuring an OpenVPN server on Debian Linux 10 server.</p>\n","author":{"@type":"Person","name":"Patrick Szalewicz"},"publisher":{"@type":"Organization","name":"Patrick Szalewicz"}}</script><style amp-custom>article,
aside,
footer,
header,
hgroup,
main,
nav,
section {
  display: block; }

*,
*:before,
*:after {
  -webkit-box-sizing: content-box;
  box-sizing: content-box;
  margin: 0;
  padding: 0; }

li {
  list-style: none; }

amp-img {
  max-width: 100%; }

button,
input,
select,
textarea {
  font: inherit; }

html {
  font-size: 1rem; }

body {
  background: #f1f1f1;
  color: #262626;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  line-height: 1.6; }

a {
  color:  #004965;
  text-decoration: none;
  -webkit-transition: all 0.12s linear 0s;
  -o-transition: all 0.12s linear 0s;
  transition: all 0.12s linear 0s; }

a:hover {
  color: #262626;
  text-decoration: underline;
  -webkit-text-decoration-skip: ink;
  text-decoration-skip: ink; }

a:active {
  color: #262626; }

a:focus {
  outline: 2px dotted #004965; }

figure,
blockquote,
p,
ul,
ol,
dl,
table,
hr,
fieldset {
  margin-top: 1.6rem; }

h1,
h2,
h3,
h4,
h5,
h6 {
  color: #262626;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  font-weight: 500;
  line-height: 1.2;
  margin-top: 2.13333rem; }

h1 {
  font-size: 1.67583rem;
  font-weight: normal; }

h2 {
  font-size: 1.4729rem; }

h3 {
  font-size: 1.29454rem; }

h4 {
  font-size: 1.13778rem; }

h5 {
  font-size: 1rem; }

h6 {
  font-size: 0.87891rem; }

h2 + p,
h3 + p,
h4 + p,
h5 + p,
h6 + p {
  margin-top: 0.8rem; }

b,
strong {
  font-weight: 600; }

blockquote {
  color: #6c7175;
  font-family: "Droid Serif", "Times", "Source Serif Pro", serif;
  font-style: italic;
  padding: 1.33333rem 0.53333rem 1.33333rem 3.2rem;
  position: relative; }
  blockquote:before {
    display: block;
    content: "\201C";
    font-size: 4.41226rem;
    position: absolute;
    left: 0;
    top: -12px;
    color: rgba(108, 113, 117, 0.5); }
  blockquote > :nth-child(1) {
    margin-top: 0; }

ul,
ol {
  margin-left: 2rem; }
  ul > li,
  ol > li {
    list-style: inherit;
    padding: 0 0 0.26667rem 0.26667rem; }

dl dt {
  color: #262626;
  font-weight: 600; }

code,
pre {
  background-color: #f1f1f1;
  font-family: monospace; }

pre {
  margin: 1.6rem 0 0;
  padding: 1.6rem;
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-x: auto; }
  pre > code {
    color: #262626;
    padding: 0; }

code {
  border-radius: 3px;
  color: #262626;
  padding: 0.26667rem 0.53333rem; }

table {
  border-collapse: collapse;
  border-spacing: 0;
  border: 1px solid #d4d4d4;
  width: 100%;
  overflow-x: auto;
  vertical-align: top;
  text-align: left;
  white-space: nowrap; }
  table th {
    font-weight: 500;
    padding: 0.53333rem 1.06667rem; }
  table tr {
    border-bottom: 1px solid #d4d4d4; }
    table tr:nth-child(2n) {
      background: #f1f1f1; }
  table td {
    padding: 0.53333rem 1.06667rem; }

figcaption {
  clear: both;
  color: rgba(108, 113, 117, 0.6);
  font-size: 0.82397rem;
  margin: 0.8rem 0 0;
  text-align: center; }

sub,
sup {
  font-size: 65%; }

hr {
  border: 0;
  height: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.3); }

.btn, [type=button],
[type=submit],
button {
  background: #004965;
  border: none;
  border-radius: 2px;
  color: #ffffff;
  cursor: pointer;
  display: inline-block;
  font-size: 0.87891rem;
  font-weight: 500;
  line-height: 1.9;
  padding: 0.53333rem 1.33333rem;
  text-align: center;
  text-decoration: none;
  -webkit-transition: all .15s ease;
  -o-transition: all .15s ease;
  transition: all .15s ease;
  width: auto; }
  .btn:hover, [type=button]:hover,
  [type=submit]:hover,
  button:hover {
    background: #262626;
    color: #ffffff; }
  .btn:focus, [type=button]:focus,
  [type=submit]:focus,
  button:focus {
    outline: none; }
  .btn-outline {
    border: 1px solid #ddd;
    background: #ffffff;
    border-radius: 3px;
    color: #262626; }

[type=button],
[type=submit],
button {
  text-transform: uppercase;
  -webkit-appearance: none;
  -moz-appearance: none; }

.navbar {
  background: #004965;
  -webkit-box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.2);
  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.2);
  line-height: 3;
  max-height: 4rem; }
  .navbar > div {
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    text-align: left;
    max-width: 700px;
    margin: 0 auto; }
  .navbar a {
    color: #ffffff;
    text-decoration: none; }
  .navbar-sidebar-toggle {
    left: 0;
    position: relative;
    text-indent: -99999rem; }
    .navbar-sidebar-toggle:before {
      content: "";
      display: block;
      border-top: 0.375rem double #ffffff;
      border-bottom: 0.125rem solid #ffffff;
      height: 0.125rem;
      position: absolute;
      text-indent: 0;
      top: 50%;
      width: 1.3rem;
      -webkit-transform: translate(0px, -50%);
      -ms-transform: translate(0px, -50%);
      transform: translate(0px, -50%); }


.logo {
            display: inline-block;
  font-weight: 600;
  line-height: 1;
            margin: 0 auto;
            height: 2rem;
            text-indent: -9999px;
            width: 240px;vertical-align: middle;
        }
        .logo.logo-text {
            line-height: 2;
            text-align: center;
            text-indent: 0;
        }

amp-sidebar {
  background: #ffffff;
  width: 240px; }
  amp-sidebar > ul {
    margin: 0.8rem 0 0;
    padding: 0; }
    amp-sidebar > ul ul {
      border-left: 1px solid #d4d4d4;
      margin: 0.53333rem 0 0; }
    amp-sidebar > ul li {
      color: #262626;
      font-size: 0.9375rem;
      font-weight: 600;
      list-style: none;
      line-height: 1.4;
      padding: 0.42667rem 1.06667rem; }
      amp-sidebar > ul li li {
        font-weight: normal;
        padding: 0.26667rem 0 0.26667rem 1.06667rem; }
    amp-sidebar > ul a,
    amp-sidebar > ul a:visited {
      color: #262626; }

.bg-white {
  background: #ffffff; }

.wrap-page {
  max-width: 700px;
  margin: 0 auto; }

@media all and (max-width: 43.6875em) {
  .wrap-inner {
    padding: 0 6%; } }

.page-title {
  background: #ffffff;
  -webkit-box-shadow: 0 2px 3px rgba(38, 38, 38, 0.1);
  box-shadow: 0 2px 3px rgba(38, 38, 38, 0.1);
  margin-bottom: 0.8rem;
  padding: 1.6rem 6%; }
  .page-title > h1 {
    margin: 0;
    font-size: 1.29454rem; }
  .page-title > p {
    font-size: 0.87891rem;
    color: #6c7175;
    line-height: 1.3;
    margin: 0.26667rem 0 0; }
  .page-title-author {
    border-radius: 50%;
    float: left;
    height: 2.5rem;
    width: 2.5rem; }
    .page-title-author + h1 {
      margin-left: 3.5rem; }
      .page-title-author + h1 + p {
        margin-left: 3.5rem; }

.card {
  background: #ffffff;
  -webkit-box-shadow: 0 2px 3px rgba(38, 38, 38, 0.1);
  box-shadow: 0 2px 3px rgba(38, 38, 38, 0.1);
  margin-bottom: 0.8rem;
  padding-bottom: 1.06667rem; }

  .card-meta {
    border-top: 1px solid #d4d4d4;
    color: rgba(108, 113, 117, 0.6);
    font-size: 0.7242rem;
    font-weight: 500;
    margin-top: 1.06667rem;
    padding-top: 1.06667rem;
    text-transform: uppercase; }
    .card-meta a + time:before {
      content: "";
      background: #d4d4d4;
      display: inline-block;
      height: 3px;
      margin: 0 8px;
      width: 3px;
      vertical-align: middle;
      border-radius: 50%; }
  .card-text {
    font-size: 0.9375rem;
    overflow: hidden;
    padding: 0 6%; }
    .card-text h2 {
      font-size: 1.13778rem; }

.post {
  margin-bottom: 2.13333rem; }
  .post-featured-image {
    margin-top: 0;
    position: relative; }
    .post-featured-image > figcaption {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 3px;
      color: #ffffff;
      position: absolute;
      bottom: 0.8rem;
      padding: 0 0.26667rem;
      right: 6%; }
  .post-header {
    margin-bottom: 2.13333rem; }
  .post-meta {
    border-bottom: 1px solid #d4d4d4;
    color: rgba(108, 113, 117, 0.6);
    font-size: 0.7242rem;
    font-weight: 500;
    margin-top: 1.06667rem;
    padding-bottom: 1.06667rem;
    text-transform: uppercase; }
    .post-meta a + time:before {
      content: "";
      background: #d4d4d4;
      display: inline-block;
      height: 3px;
      margin: 0 8px;
      width: 3px;
      vertical-align: middle;
      border-radius: 50%; }
  .post-tag {
    margin: 0; }
    .post-tag > li {
      display: inline-block;
      padding: 0; }
      .post-tag > li a {
        background: #f1f1f1;
        border-radius: 2px;
        color: #6c7175;
        font-size: 0.77248rem;
        display: inline-block;
        margin: 0 0.26667rem 0.26667rem 0;
        padding: 0.26667rem 0.53333rem; }
        .post-tag > li a:hover {
          background: #004965;
          color: #ffffff;
          text-decoration: none; }
  .post-share {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -ms-flex-direction: row;
    flex-direction: row;
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    margin-top: 1.6rem;
    width: 100%; }
    .post-share amp-social-share {
      -webkit-box-flex: 1;
      -ms-flex: 1 0 auto;
      flex: 1 0 auto;
      background-size: 24px; }
  .post-scroll {
    color: #ffffff;
    background: #004965;
    bottom: 10px;
    border-radius: 50%;
    border: none;
    -webkit-box-shadow: 0 1px 1.5px 0 rgba(38, 38, 38, 0.12), 0 1px 1px 0 rgba(38, 38, 38, 0.24);
    box-shadow: 0 1px 1.5px 0 rgba(38, 38, 38, 0.12), 0 1px 1px 0 rgba(38, 38, 38, 0.24);
    font-size: 1.13778rem;
    height: 46px;
    opacity: 0;
    outline: none;
    position: fixed;
    padding: 0;
    right: 4%;
    visibility: hidden;
    width: 46px;
    z-index: 9999; }
    .post-scroll-marker {
      height: 0px;
      position: absolute;
      top: 100px;
      width: 0px; }
        .post-pagination {
    background: #f1f1f1;
    -webkit-box-shadow: inset 0 2px 3px rgba(38, 38, 38, 0.1);
    box-shadow: inset 0 2px 3px rgba(38, 38, 38, 0.1);
    border-top: 1px solid #d4d4d4;
    padding: 1.06667rem 0; }
    .post-pagination > div {
      line-height: 1.2;
      padding: 0.53333rem 1.06667rem;
      text-align: center; }
      .post-pagination > div span {
        display: block;
        color: #6c7175;
        font-size: 0.7242rem;
        font-weight: 500;
        margin-bottom: 0.26667rem;
        text-transform: uppercase; }
    .post-pagination-prev a:before {
      content: "\2190";
      margin-right: 0.26667rem; }
    .post-pagination-next a:after {
      content: "\2192";
      margin-left: 0.26667rem; }

aside {
  margin: 1.6rem 0 0; }

.align-left {
  text-align: left; }

.align-right {
  text-align: right; }

.align-center {
  text-align: center; }

.align-justify {
  text-align: justify; }

.msg {
  border-left: 2px solid transparent;
  padding: 1.06667rem 1.06667rem; }
  .msg--highlight {
    background-color: #fff8e6;
    border-color: #e2ac4f; }
  .msg--info {
    background: rgba(45, 97, 201, 0.03);
    border-color: #004965; }
  .msg--success {
    background: #f7fbf6;
    border-color: #5ab44b; }
  .msg--warning {
    background: #fff3f3;
    border-color: #c06367;
    color: #a94442; }

.dropcap:first-letter {
  float: left;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  font-size: 2.16943rem;
  line-height: 0.7;
  margin-right: 0.53333rem;
  padding: 0.53333rem 0.53333rem 0.53333rem 0; }

.pagination {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  justify-content: space-between;
  margin: 0.8rem 0; }
  .pagination > a {
    padding-left: 0;
    padding-right: 0;
    width: 49%; }
  .pagination-right {
    margin-left: auto; }

.bottom {
  background: #004965;
  color: #ffffff;
  padding: 1.06667rem 4%;
  text-align: center; }</style><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><script async src="https://cdn.ampproject.org/v0.js"></script><script custom-element="amp-animation" src="https://cdn.ampproject.org/v0/amp-animation-0.1.js" async></script><script custom-element="amp-position-observer" src="https://cdn.ampproject.org/v0/amp-position-observer-0.1.js" async></script></head><body class="bg-white"><nav class="navbar wrap-inner" id="top"><div><a on="tap:navbar-sidebar.toggle" class="navbar-sidebar-toggle" title="Menu">Menu</a> <a class="logo logo-text" href="https://fachinformatiker.github.io/fachinformatiker.github.io/amp/">fachinformatiker.app</a></div></nav><main class="wrap-page"><article class="post"><div class="wrap-inner"><header class="post-header"><h1>Debian 10 Set Up OpenVPN Server In 5 Minutes</h1><p class="post-meta">By <a href="https://fachinformatiker.github.io/fachinformatiker.github.io/amp/authors/patrick-szalewicz/" rel="nofollow" title="Patrick Szalewicz">Patrick Szalewicz</a> <time datetime="2019-12-23T12:24">23 December 2019</time></p></header><p><strong>Introduction</strong> OpenVPN is a full-featured SSL VPN (virtual private network). It implements OSI layer 2 or 3 secure network extension using the SSL/TLS protocol. It is an open source software and distributed under the GNU GPL. A VPN allows you to connect securely to an insecure public network such as wifi network at the airport or hotel. VPN is also required to access your corporate or enterprise or home server resources. You can bypass the geo-blocked site and increase your privacy or safety online. This tutorial provides step-by-step instructions for configuring an OpenVPN server on Debian Linux 10 server.</p><h2>Procedure: Debian 10 Set Up OpenVPN Server In 5 Minutes</h2><p>The steps are as follows:</p><h3>Step 1 – Update your system</h3><p>Run the apt command :<br><code><strong>sudo apt update</strong><br><strong>sudo apt upgrade</strong></code></p><h3>Step 2 – Find and note down your IP address</h3><p>Use the ip command as follows:<br><code><strong>ip a</strong><br><strong>ip a show eth0</strong></code></p><p>Another option is to run the following dig command/host command to find out your public IP address from Linux command line:<br><code><strong>dig +short myip.opendns.com @resolver1.opendns.com</strong></code><br>OR<br><code><strong>dig TXT +short o-o.myaddr.l.google.com @ns1.google.com | awk -F'"' '{ print $2}'</strong></code></p><h3>A note about IP address</h3><p>Most cloud servers have two types of IP address:</p><ol><li><strong>Public static IP address directly</strong> assigned to your box and routed from the Internet. For example, Linode, Digital Ocean, and others gives you direct public IP address.</li><li>Private static IP address directly attached to your server and <strong>your server is behind NAT with public IP</strong> address. For example, AWS EC2/Lightsail give you this kind of NAT public IP address.</li></ol><p>The script will automatically detect your networking setup. All you have to do is provide correct IP address when asked for it.</p><h3>Step 3 – Download and run debian10-vpn.sh script</h3><p>I am going to use the wget command:<br><code><strong>wget https://raw.githubusercontent.com/Angristan/openvpn-install/master/openvpn-install.sh -O debian10-vpn.sh</strong></code><br>Setup permissions using the chmod command<br><code><strong>chmod +x debian10-vpn.sh</strong></code><br>One can view the script using a text editor such as vim/vi :<br><code><strong>vi debian10-vpn.sh</strong></code></p><h4>Run debian10-vpn.sh to install OpenVPN server</h4><p>Now all you have to do is:<br><code><strong>sudo ./debian10-vpn.sh</strong></code></p><p>To avoid problem always choose DNS as 1.1.1.1 or Google DNS. Those are fast DNS server and reached from anywhere on the Internet. Okay, that was all script needed. We are ready to setup your OpenVPN server now. You will be able to generate a client at the end of the installation.</p><h4>How do I start/stop/restart OpenVPN server on Debian 10 ?</h4><p><code><strong>sudo systemctl stop openvpn@server </strong># &lt;--- stop server<br><strong>sudo systemctl start openvpn@server </strong># &lt;--- start server<br><strong>sudo systemctl restart openvpn@server </strong># &lt;--- restart server<br><strong>sudo systemctl status openvpn@server </strong># &lt;--- get server status</code></p><h3>Step 4 – Connect an OpenVPN server using IOS/Android/Linux/Windows client</h3><p>On server your will find a client configuration file called ~/linuxDesktop.ovpn. All you have to do is copy this file to your local desktop using the scp command:<br><code><strong>scp vivek@:~/linuxDesktop.ovpn .</strong></code><br>OR<br><code><strong>scp root@:~/linuxDesktop.ovpn .</strong></code><br>Next, provide this file to your OpenVPN client to connect:</p><ol><li><a href="https://itunes.apple.com/us/app/openvpn-connect/id590379981?mt=8" target="_blank" rel="noopener noreferrer">Apple iOS client</a></li><li><a href="https://play.google.com/store/apps/details?id=net.openvpn.openvpn&amp;hl=en" target="_blank" rel="noopener noreferrer">Android client</a></li><li><a href="https://tunnelblick.net/" target="_blank" rel="noopener noreferrer">Apple MacOS (OS X) client</a></li><li><a href="https://openvpn.net/index.php/open-source/downloads.html" target="_blank" rel="noopener noreferrer">Windows 8/10 client</a></li></ol><h4>Linux Desktop: OpenVPN client configuration</h4><p>First, install the openvpn client for your desktop, enter:<br><code><strong>sudo yum install openvpn</strong></code><br>OR<br><code><strong>sudo apt install openvpn</strong></code><br>Next, copy linuxDesktop.ovpn as follows:<br><code><strong>sudo cp linuxDesktop.ovpn /etc/openvpn/client/</strong></code></p><pre>'linuxDesktop.ovpn' -&gt; '/etc/openvpn/client/linuxDesktop.ovpn'</pre><p>Test connectivity from the CLI:<br><code><strong>sudo openvpn --client --config /etc/openvpn/client/linuxDesktop.ovpn</strong></code><br>Sample outputs:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini">Sat Jul 13 21:56:07 2019 Unrecognized option or missing or extra parameter(s) in /etc/openvpn/client/linuxDesktop.ovpn:17: block-outside-dns (2.4.7)
Sat Jul 13 21:56:07 2019 OpenVPN 2.4.7 x86_64-redhat-linux-gnu [SSL (OpenSSL)] [LZO] [LZ4] [EPOLL] [PKCS11] [MH/PKTINFO] [AEAD] built on Feb 20 2019
Sat Jul 13 21:56:07 2019 library versions: OpenSSL 1.1.1c FIPS  28 May 2019, LZO 2.08
Sat Jul 13 21:56:07 2019 Outgoing Control Channel Encryption: Cipher 'AES-256-CTR' initialized with 256 bit key
Sat Jul 13 21:56:07 2019 Outgoing Control Channel Encryption: Using 256 bit message hash 'SHA256' for HMAC authentication
Sat Jul 13 21:56:07 2019 Incoming Control Channel Encryption: Cipher 'AES-256-CTR' initialized with 256 bit key
Sat Jul 13 21:56:07 2019 Incoming Control Channel Encryption: Using 256 bit message hash 'SHA256' for HMAC authentication
Sat Jul 13 21:56:07 2019 TCP/UDP: Preserving recently used remote address: [AF_INET]172.105.51.63:1194
Sat Jul 13 21:56:07 2019 Socket Buffers: R=[212992-&gt;212992] S=[212992-&gt;212992]
Sat Jul 13 21:56:07 2019 UDP link local: (not bound)
Sat Jul 13 21:56:07 2019 UDP link remote: [AF_INET]172.105.51.63:1194
Sat Jul 13 21:56:07 2019 TLS: Initial packet from [AF_INET]172.105.51.63:1194, sid=0efbc848 675b12c1
Sat Jul 13 21:56:07 2019 VERIFY OK: depth=1, CN=cn_46pSC1RkaXtUzj8E
Sat Jul 13 21:56:07 2019 VERIFY KU OK
Sat Jul 13 21:56:07 2019 Validating certificate extended key usage
Sat Jul 13 21:56:07 2019 ++ Certificate has EKU (str) TLS Web Server Authentication, expects TLS Web Server Authentication
Sat Jul 13 21:56:07 2019 VERIFY EKU OK
Sat Jul 13 21:56:07 2019 VERIFY X509NAME OK: CN=server_CfvC2CLjZBl46fYN
Sat Jul 13 21:56:07 2019 VERIFY OK: depth=0, CN=server_CfvC2CLjZBl46fYN
Sat Jul 13 21:56:07 2019 Control Channel: TLSv1.3, cipher TLSv1.3 TLS_AES_256_GCM_SHA384, 256 bit EC, curve: prime256v1
Sat Jul 13 21:56:07 2019 [server_CfvC2CLjZBl46fYN] Peer Connection Initiated with [AF_INET]172.105.51.63:1194
Sat Jul 13 21:56:08 2019 SENT CONTROL [server_CfvC2CLjZBl46fYN]: 'PUSH_REQUEST' (status=1)
Sat Jul 13 21:56:08 2019 PUSH: Received control message: 'PUSH_REPLY,dhcp-option DNS 1.0.0.1,dhcp-option DNS 1.1.1.1,redirect-gateway def1 bypass-dhcp,route-gateway 10.8.0.1,topology subnet,ping 10,ping-restart 120,ifconfig 10.8.0.2 255.255.255.0,peer-id 0,cipher AES-128-GCM'
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: timers and/or timeouts modified
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: --ifconfig/up options modified
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: route options modified
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: route-related options modified
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: peer-id set
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: adjusting link_mtu to 1624
Sat Jul 13 21:56:08 2019 OPTIONS IMPORT: data channel crypto options modified
Sat Jul 13 21:56:08 2019 Outgoing Data Channel: Cipher 'AES-128-GCM' initialized with 128 bit key
Sat Jul 13 21:56:08 2019 Incoming Data Channel: Cipher 'AES-128-GCM' initialized with 128 bit key
Sat Jul 13 21:56:08 2019 ROUTE_GATEWAY 192.168.1.1/255.255.255.0 IFACE=wlp1s0 HWADDR=b4:6b:fc:32:7a:12
Sat Jul 13 21:56:08 2019 TUN/TAP device tun0 opened
Sat Jul 13 21:56:08 2019 TUN/TAP TX queue length set to 100
Sat Jul 13 21:56:08 2019 /sbin/ip link set dev tun0 up mtu 1500
Sat Jul 13 21:56:08 2019 /sbin/ip addr add dev tun0 10.8.0.2/24 broadcast 10.8.0.255
Sat Jul 13 21:56:08 2019 /sbin/ip route add 172.105.51.63/32 via 192.168.1.1
Sat Jul 13 21:56:08 2019 /sbin/ip route add 0.0.0.0/1 via 10.8.0.1
Sat Jul 13 21:56:08 2019 /sbin/ip route add 128.0.0.0/1 via 10.8.0.1
Sat Jul 13 21:56:08 2019 Initialization Sequence Completed</pre></td></tr></tbody></table></div><p>Your Linux system will automatically connect when computer restart using openvpn script/service:<br><code><strong>sudo systemctl start openvpn@client </strong># &lt;--- start client service</code></p><h3>Step 5 - Verify/test the connectivity</h3><p>Execute the following commands after connecting to OpenVPN server from your Linux desktop:<br><code><strong>ping 10.8.0.1 </strong>#Ping to the OpenVPN server gateway<br><strong>ip route </strong>#Make sure routing setup working<br><strong>dig TXT +short o-o.myaddr.l.google.com @ns1.google.com </strong>#Must return public IP address of OpenVPN server</code></p><pre>172.105.51.63</pre><h2>A note about trouble shooting OpenVPN server and client issues</h2><p>Check OpenVPN server for errors:<br><code><strong>journalctl --identifier ovpn-server</strong></code></p><p>Is firewall rule setup correctly on your server? Use the iptables command and sysctl command commands to verify NAT rule setup on your server:<br><code><strong>sudo iptables -t nat -L -n -v</strong><br><strong>sysctl net.ipv4.ip_forward</strong></code><br></p><figure class="aligncenter size-full wp-image-147200"><amp-img src="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/NAT-Firewall-OpenVPN-Rules-Verification.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-xs.png 300w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-sm.png 480w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-md.png 768w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-lg.png 1024w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-xl.png 1360w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/NAT-Firewall-OpenVPN-Rules-Verification-2xl.png 1600w" sizes="(max-width: 599px) 85vw, 599px" srcset="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/NAT-Firewall-OpenVPN-Rules-Verification.png 599w, https://www.cyberciti.biz/media/new/faq/2018/09/NAT-Firewall-OpenVPN-Rules-Verification-300x101.png 300w" alt="NAT Firewall OpenVPN Rules Verification" width="599" height="202" layout="responsive"></amp-img></figure><br>Insert the rules if not inserted from /etc/rc.local<br><code><strong>sudo sh /etc/rc.local</strong><br><strong>sudo sysctl -w net.ipv4.ip_forward=1</strong></code><br>Is OpenVPN server running and port is open? Use the ss command or netstat command and pidof command/ps command:<br><code><strong>netstat -tulpn | grep :1194 </strong>## 1194 is the openvpn server port ##<br><strong>ss -tulpn | grep :1194 </strong>## 1194 is the openvpn server port ##<br><strong>ps aux | grep openvpn </strong>## is the openvpn server running? ##<br><strong>ps -C openvpn </strong>## is the openvpn server running? ##<br><strong>pidof openvpn </strong>## find the openvpn server PID ##</code><br><figure class="aligncenter size-full wp-image-148082"><amp-img src="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-xs.png 300w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-sm.png 480w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-md.png 768w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-lg.png 1024w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-xl.png 1360w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/responsive/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-2xl.png 1600w" sizes="(max-width: 599px) 85vw, 599px" srcset="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/115/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux.png 599w, https://www.cyberciti.biz/media/new/faq/2019/07/Verify-that-OpenVPN-server-runnign-and-Port-is-Open-on-Debian-Linux-300x86.png 300w" alt="Verify that OpenVPN server runnign and Port is Open on Debian Linux" width="599" height="172" layout="responsive"></amp-img></figure><br>If not running, restart the OpenVPN server:<br><code><strong>sudo systemctl restart openvpn@server</strong></code><br>Look out for errors:<br><code><strong>sudo systemctl status openvpn@server</strong></code><br>Can the Linux desktop client connect to the OpenVPN server machine? First you need to run a simple test to see if the OpenVPN server port (UDP 1194) accepts connections:<br><code>nc -vu 1194<br><kbd>Connection to 1194 port [udp/openvpn] succeeded!</kbd></code><br>If not connected it means either a Linux desktop firewall or your router is blocking access to server. Make sure both client and server using same protocol and port, e.g. UDP port 1194.<p></p><h2>Conclusion</h2><p>Congratulations. You successfully set up an OpenVPN server on Debian Linux 10 server running in the cloud. See the OpenVPN website <a href="https://openvpn.net/" target="_blank" rel="noopener noreferrer">here</a> and script <a href="https://github.com/angristan/openvpn-install" target="_blank" rel="noopener noreferrer">page here</a> for additional information.</p><aside><div class="post-share"><amp-social-share type="system" width="40" height="40" data-param-text="Debian 10 Set Up OpenVPN Server In 5 Minutes"></amp-social-share><amp-social-share type="twitter" width="40" height="40" data-param-text="Debian 10 Set Up OpenVPN Server In 5 Minutes" data-param-url="https://fachinformatiker.github.io/fachinformatiker.github.io/amp/debian-10-set-up-openvpn-server-in-5-minutes.html"></amp-social-share><amp-social-share type="whatsapp" width="40" height="40" data-param-text="Debian 10 Set Up OpenVPN Server In 5 Minutes"></amp-social-share></div></aside></div></article><nav class="post-pagination wrap-inner"><div class="post-pagination-prev"><span>Previous Post</span> <a href="https://fachinformatiker.github.io/fachinformatiker.github.io/amp/whosthere.html">whosthere</a></div><div class="post-pagination-next"><span>Next Post</span> <a href="https://fachinformatiker.github.io/fachinformatiker.github.io/amp/nuetzliche-befehle.html">nützliche Befehle</a></div></nav></main><amp-animation id="showAnim" layout="nodisplay"><script type="application/json">{
                    "duration": "200ms",
                    "fill": "both",
                    "iterations": "1",
                    "direction": "alternate",
                    "animations": [{
                        "selector": ".post-scroll",
                        "keyframes": [{
                            "opacity": "1",
                            "visibility": "visible",
                            "transform": "scale(1)"
                        }]
                    }]
                }</script></amp-animation><amp-animation id="hideAnim" layout="nodisplay"><script type="application/json">{
                    "duration": "200ms",
                    "fill": "both",
                    "iterations": "1",
                    "direction": "alternate",
                    "animations": [{
                        "selector": ".post-scroll",
                        "keyframes": [{
                            "opacity": "0",
                            "visibility": "hidden",
                            "transform": "scale(0.1)"
                        }]
                    }]
                }</script></amp-animation><div class="post-scroll-marker"><amp-position-observer on="enter:hideAnim.start; exit:showAnim.start" layout="nodisplay"></amp-position-observer></div><button class="post-scroll" on="tap:top.scrollTo(duration=200)">&#8593;</button><footer class="bottom">Powered by Publii</footer><amp-sidebar id="navbar-sidebar" layout="nodisplay"><ul></ul></amp-sidebar></body></html>