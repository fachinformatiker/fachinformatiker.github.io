<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to Set Up SSH Keys on Linux - fachinformatiker.app</title><meta name="description" content="Secure Shell (SSH) is a cryptographic network protocol used for a secure connection between a client and a server and supports various authentication mechanisms.The two most popular mechanisms are passwords based authentication and public key-based authentication. Using SSH keys is more secure and convenient than traditional password authentication.In this tutorial, we will walk through how to generate SSH keys on Ubuntu machines. We will also show you how to set up an SSH key-based authentication and connect to your remote Linux servers without entering a password."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-ssh-keys-on-linux.html"><link rel="alternate" type="application/atom+xml" href="https://fachinformatiker.github.io/fachinformatiker.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://fachinformatiker.github.io/fachinformatiker.github.io/feed.json"><meta property="og:title" content="How to Set Up SSH Keys on Linux"><meta property="og:site_name" content="fachinformatiker.app"><meta property="og:description" content="Secure Shell (SSH) is a cryptographic network protocol used for a secure connection between a client and a server and supports various authentication mechanisms.The two most popular mechanisms are passwords based authentication and public key-based authentication. Using SSH keys is more secure and convenient than traditional password authentication.In this tutorial, we will walk through how to generate SSH keys on Ubuntu machines. We will also show you how to set up an SSH key-based authentication and connect to your remote Linux servers without entering a password."><meta property="og:url" content="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-ssh-keys-on-linux.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/css/style.css?v=cc87cb8806c844f0646558fe70d5c5d1"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-ssh-keys-on-linux.html"},"headline":"How to Set Up SSH Keys on Linux","datePublished":"2020-01-22T11:44","dateModified":"2020-05-12T08:44","description":"<p>Secure Shell (SSH) is a cryptographic network protocol used for a secure connection between a client and a server and supports various authentication mechanisms.</p>\n<p>The two most popular mechanisms are passwords based authentication and public key-based authentication. Using SSH keys is more secure and convenient than traditional password authentication.<span id=\"ezoic-pub-ad-placeholder-158\" class=\"ezoic-adpicker-ad\"></span></p>\n<p>In this tutorial, we will walk through how to generate SSH keys on Ubuntu machines. We will also show you how to set up an SSH key-based authentication and connect to your remote Linux servers without entering a password.<br />\n","author":{"@type":"Person","name":"Patrick Szalewicz"},"publisher":{"@type":"Organization","name":"Patrick Szalewicz"}}</script><script src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/ls.parent-fit.min.js?v=f8467455ea5c88e3e51a4f212d2632bd"></script><script async src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/lazysizes.min.js?v=6a69d476c93de2b78a72acb259abccea"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://fachinformatiker.github.io/fachinformatiker.github.io/">fachinformatiker.app</a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://fachinformatiker.github.io/fachinformatiker.github.io/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-01-22T11:44">January 22, 2020</time></div><h1>How to Set Up SSH Keys on Linux</h1><div class="post__meta post__meta--author"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/authors/patrick-szalewicz/" class="feed__author invert">Patrick Szalewicz</a></div></div></header></div><div class="wrapper post__entry"><p>Secure Shell (SSH) is a cryptographic network protocol used for a secure connection between a client and a server and supports various authentication mechanisms.</p><p>The two most popular mechanisms are passwords based authentication and public key-based authentication. Using SSH keys is more secure and convenient than traditional password authentication.<span id="ezoic-pub-ad-placeholder-158" class="ezoic-adpicker-ad"></span></p><p>In this tutorial, we will walk through how to generate SSH keys on Ubuntu machines. We will also show you how to set up an SSH key-based authentication and connect to your remote Linux servers without entering a password.<br><span id="ezoic-pub-ad-placeholder-138" class="ezoic-adpicker-ad"></span></p><h2 id="creating-ssh-keys-on-ubuntu">Creating SSH keys on Ubuntu</h2><p>Before generating a new SSH key pair first, check for existing SSH keys on your Ubuntu client machine. You can do that by running the following ls command:</p><pre class="terminal"><code>ls -l ~/.ssh/id_*.pub</code></pre><p>If the command above prints something like <code>No such file or directory</code> or <code>no matches found</code> it means that you don't have SSH keys on your client machine and you can proceed with the next step, and generate SSH key pair.<span id="ezoic-pub-ad-placeholder-139" class="ezoic-adpicker-ad"></span></p><p>If there are existing keys, you can either use those and skip the next step or backup up the old keys and generate new ones.<span id="ezoic-pub-ad-placeholder-156" class="ezoic-adpicker-ad"></span></p><p><span id="ezoic-pub-ad-placeholder-159" class="ezoic-adpicker-ad"></span>Generate a new 4096 bits SSH key pair with your email address as a comment by typing:<span id="ezoic-pub-ad-placeholder-140" class="ezoic-adpicker-ad"></span></p><pre class="terminal"><code>ssh-keygen -t rsa -b 4096 -C "your_email@domain.com"</code></pre><p>The output will look something like this:</p><pre><code class="language-output" data-lang="output">Enter file in which to save the key (/home/yourusername/.ssh/id_rsa):
</code></pre><p>Press <code>Enter</code> to accept the default file location and file name.</p><p>Next, you'll be prompted to type a secure passphrase. Whether you want to use passphrase, it's up to you. If you choose to use passphrase you will get an extra layer of security.</p><pre><code class="language-output" data-lang="output">Enter passphrase (empty for no passphrase):
</code></pre><p>If you don't want to use passphrase just press <code>Enter</code>.</p><p>The whole interaction looks like this:<span id="ezoic-pub-ad-placeholder-142" class="ezoic-adpicker-ad"></span></p><figure class="relative"><div class="w-full mx-auto my-0 block relative"><div class="block"></div><div class="w-full h-full absolute inset-0 m-auto overflow-hidden text-center"><figure class="aligncenter size-full wp-image-379"><img class="lazyload" data-src="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/ubuntu-18-04-hostnamectl.jpg" data-sizes="auto" data-srcset="https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-xs.jpg 300w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-sm.jpg 480w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-md.jpg 768w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-lg.jpg 1024w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-xl.jpg 1360w ,https://fachinformatiker.github.io/fachinformatiker.github.io/media/posts/122/responsive/ubuntu-18-04-hostnamectl-2xl.jpg 1600w" alt="" data-aspectratio="2.745247" width="722" height="263"></figure></div></div></figure><p>To verify your new SSH key pair is generated, type:<span id="ezoic-pub-ad-placeholder-160" class="ezoic-adpicker-ad"></span></p><pre class="terminal"><code>ls ~/.ssh/id_*</code></pre><pre><code class="language-output" data-lang="output">/home/yourusername/.ssh/id_rsa /home/yourusername/.ssh/id_rsa.pub
</code></pre><div class="w-full flex justify-center content-center"><div class="w-full relative"></div></div><h2 id="copy-the-public-key-to-ubuntu-server">Copy the Public Key to Ubuntu Server</h2><p>Now that you generated your SSH key pair, the next step is to copy the public key to the server you want to manage.</p><p>The easiest and the recommended way to copy your public key to the server is to use a utility called <code>ssh-copy-id</code>. On your local machine terminal type:</p><pre class="terminal"><code>ssh-copy-id remote_username@server_ip_address</code></pre><p>You will be prompted to enter the <code>remote_username</code> password:<span id="ezoic-pub-ad-placeholder-143" class="ezoic-adpicker-ad"></span></p><pre><code class="language-output" data-lang="output">remote_username@server_ip_address's password:
</code></pre><p><span id="ezoic-pub-ad-placeholder-161" class="ezoic-adpicker-ad"></span>Once the user is authenticated, the public key <code>~/.ssh/id_rsa.pub</code> will be appended to the remote user <code>~/.ssh/authorized_keys</code> file and connection will be closed.</p><pre><code class="language-output" data-lang="output">Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'username@server_ip_address'"
and check to make sure that only the key(s) you wanted were added.
</code></pre><p>If by some reason the <code>ssh-copy-id</code> utility is not available on your local computer, you can use the following command to copy the public key:</p><pre class="terminal"><code>cat ~/.ssh/id_rsa.pub | ssh remote_username@server_ip_address "mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys"</code></pre><h2 id="login-to-your-server-using-ssh-keys">Login to your server using SSH keys</h2><p>After completing the steps above you should be able to log in to the remote server without being prompted for a password.<span id="ezoic-pub-ad-placeholder-144" class="ezoic-adpicker-ad"></span></p><p>To test it, try to login to your server via SSH:</p><pre class="terminal"><code>ssh remote_username@server_ip_address</code></pre><p>If you haven't set a passphrase for the private key, you will be logged in immediately. Otherwise, you will be prompted to enter the passphrase.<span id="ezoic-pub-ad-placeholder-157" class="ezoic-adpicker-ad"></span></p><h2 id="disabling-ssh-password-authentication">Disabling SSH Password Authentication</h2><p>Disabling the password authentication adds an extra layer of security to your server.<span id="ezoic-pub-ad-placeholder-145" class="ezoic-adpicker-ad"></span></p><p>Before disabling SSH password authentication, make sure you can log in to your server without a password, and the user you are logging in with has sudo privileges.</p><p>Log into your remote server:</p><pre class="terminal"><code>ssh sudo_user@server_ip_address</code></pre><p>Open the SSH configuration file <code>/etc/ssh/sshd_config</code> with your text editor:</p><pre class="terminal"><code>sudo nano /etc/ssh/sshd_config</code></pre><p>Search for the following directives and modify as it follows:<span id="ezoic-pub-ad-placeholder-146" class="ezoic-adpicker-ad"></span></p><div class="code-label">/etc/ssh/sshd_config</div><div class="highlight"><pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">PasswordAuthentication no</span>
<span class="na">ChallengeResponseAuthentication no</span>
<span class="na">UsePAM no</span>
</code></pre><p><span class="code-copy button main small" data-clipboard-text="PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no ">Copy</span></p></div><p>Once you are done, save the file and restart the SSH service by typing:</p><pre class="terminal"><code>sudo systemctl restart ssh</code></pre><p>At this point, the password-based authentication is disabled.</p><h2 id="conclusion">Conclusion</h2><p>In this tutorial, you have learned how to generate a new SSH key pair and set up an SSH key-based authentication. You can add the same key to multiple remote servers. We have also shown you how to disable SSH password authentication and add an extra layer of security to your server.</p><p>By default, SSH listens on port 22. Changing the default SSH port reduces the risk of automated attacks.</p><p>If you are regularly connecting to multiple systems, you can simplify your workflow by defining all of your connections in the SSH config file.<span id="ezoic-pub-ad-placeholder-147" class="ezoic-adpicker-ad"></span></p><p>If you have any questions or feedback, feel free to leave a comment.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on May 12, 2020</p><ul class="post__tag"><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/linux/">Linux</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/raspberry-pi/">Raspberry Pi</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/server/">Server</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/tutorials/">Tutorials</a></li></ul><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/authors/patrick-szalewicz/" class="invert" rel="author">Patrick Szalewicz</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://fachinformatiker.github.io/fachinformatiker.github.io/epiccon-2020.html" class="invert post__nav-link" rel="prev"><span>Previous</span> EpicCon 2020</a></div><div class="post__nav-next"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/ssh-command.html" class="invert post__nav-link" rel="next"><span>Next</span> SSH Command </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2020-02-13T12:46" class="feed__date">February 13, 2020</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-add-swap-space-on-debian-10-linux.html" class="invert">How to Add Swap Space on Debian 10 Linux</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-02-05T12:04" class="feed__date">February 5, 2020</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-install-steam-on-linux.html" class="invert">How to Install Steam on Linux</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-02-09T12:04" class="feed__date">February 9, 2020</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-install-git-on-linux.html" class="invert">How to Install Git on Linux</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/scripts.min.js?v=205f40927e4a45297a0b266e50ad78d5"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script></body></html>