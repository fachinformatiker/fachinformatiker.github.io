<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to set up your own private RTMP server using nginx - fachinformatiker.app</title><meta name="description" content="Most people who stream enjoy using services such as Twitch.tv or Ustream to deliver video to viewers, and that works well enough. But sometimes you want some more control over your stream, or you want other people to be able to stream to you, or you want to stream to multiple places, or any number of things that requires you to have access to an actual RTMP stream from an RTMP server. This guide will cover the very basics of setting up a simple RTMP server on a Linux computer. Don't worry, it's not too complicated, but having familiarity with Linux will certainly help.A couple things you can do with your own RTMP server that you might be interested in:Stream to multiple external channelsImport other people's streams to incorporate for your own purposes (like casts for multiple camera angles, like in this video dodgepong did of a Tribes Ascend broadcast with multiple camera angles)Alright, so how do you do these kinds of things?"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-your-own-private-rtmp-server-using-nginx.html"><link rel="alternate" type="application/atom+xml" href="https://fachinformatiker.github.io/fachinformatiker.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://fachinformatiker.github.io/fachinformatiker.github.io/feed.json"><meta property="og:title" content="How to set up your own private RTMP server using nginx"><meta property="og:site_name" content="fachinformatiker.app"><meta property="og:description" content="Most people who stream enjoy using services such as Twitch.tv or Ustream to deliver video to viewers, and that works well enough. But sometimes you want some more control over your stream, or you want other people to be able to stream to you, or you want to stream to multiple places, or any number of things that requires you to have access to an actual RTMP stream from an RTMP server. This guide will cover the very basics of setting up a simple RTMP server on a Linux computer. Don't worry, it's not too complicated, but having familiarity with Linux will certainly help.A couple things you can do with your own RTMP server that you might be interested in:Stream to multiple external channelsImport other people's streams to incorporate for your own purposes (like casts for multiple camera angles, like in this video dodgepong did of a Tribes Ascend broadcast with multiple camera angles)Alright, so how do you do these kinds of things?"><meta property="og:url" content="https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-your-own-private-rtmp-server-using-nginx.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/css/style.css?v=cc87cb8806c844f0646558fe70d5c5d1"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fachinformatiker.github.io/fachinformatiker.github.io/how-to-set-up-your-own-private-rtmp-server-using-nginx.html"},"headline":"How to set up your own private RTMP server using nginx","datePublished":"2019-07-11T20:53","dateModified":"2020-05-12T08:43","description":"<p>Most people who stream enjoy using services such as Twitch.tv or Ustream to deliver video to viewers, and that works well enough. But sometimes you want some more control over your stream, or you want other people to be able to stream to you, or you want to stream to multiple places, or any number of things that requires you to have access to an actual RTMP stream from an RTMP server. This guide will cover the very basics of setting up a simple RTMP server on a Linux computer. Don't worry, it's not too complicated, but having familiarity with Linux will certainly help.</p>\n<p>A couple things you can do with your own RTMP server that you might be interested in:</p>\n<ul>\n<li data-xf-list-type=\"ul\">Stream to multiple external channels</li>\n<li data-xf-list-type=\"ul\">Import other people's streams to incorporate for your own purposes (like casts for multiple camera angles, like in <a class=\"link link--external\" href=\"https://www.youtube.com/watch?v=6WUU58POsTM\" target=\"_blank\" rel=\"noopener noreferrer\">this video dodgepong did of a Tribes Ascend broadcast</a> with multiple camera angles)</li>\n</ul>\n<p>Alright, so how do you do these kinds of things?</p>\n","author":{"@type":"Person","name":"Patrick Szalewicz"},"publisher":{"@type":"Organization","name":"Patrick Szalewicz"}}</script><script src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/ls.parent-fit.min.js?v=f8467455ea5c88e3e51a4f212d2632bd"></script><script async src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/lazysizes.min.js?v=6a69d476c93de2b78a72acb259abccea"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://fachinformatiker.github.io/fachinformatiker.github.io/">fachinformatiker.app</a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://fachinformatiker.github.io/fachinformatiker.github.io/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-07-11T20:53">July 11, 2019</time></div><h1>How to set up your own private RTMP server using nginx</h1><div class="post__meta post__meta--author"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/authors/patrick-szalewicz/" class="feed__author invert">Patrick Szalewicz</a></div></div></header></div><div class="wrapper post__entry"><p>Most people who stream enjoy using services such as Twitch.tv or Ustream to deliver video to viewers, and that works well enough. But sometimes you want some more control over your stream, or you want other people to be able to stream to you, or you want to stream to multiple places, or any number of things that requires you to have access to an actual RTMP stream from an RTMP server. This guide will cover the very basics of setting up a simple RTMP server on a Linux computer. Don't worry, it's not too complicated, but having familiarity with Linux will certainly help.</p><p>A couple things you can do with your own RTMP server that you might be interested in:</p><ul><li data-xf-list-type="ul">Stream to multiple external channels</li><li data-xf-list-type="ul">Import other people's streams to incorporate for your own purposes (like casts for multiple camera angles, like in <a class="link link--external" href="https://www.youtube.com/watch?v=6WUU58POsTM" target="_blank" rel="noopener noreferrer">this video dodgepong did of a Tribes Ascend broadcast</a> with multiple camera angles)</li></ul><p>Alright, so how do you do these kinds of things?</p><p><b>Step 1: Get a Server Box</b></p><p>Believe it or not, RTMP is actually extremely light on system resources. Essentially it just grabs data from the input and forwards it on to the output, simple data transfer. Don't believe me? My RTMP server for a long time was a <a class="link link--external" href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">Raspberry Pi</a>, a $35 mini-computer, sitting under my desk, and it was capable of hosting <i>at least</i> 3 simultaneous streams, and I never even stressed it to see how many more it could handle. So I assure you, even a cheap old box would suffice.</p><p>If you don't have your own box, a VPS can also work. I recommend <a href="https://signaltransmitter.de/ref/1d9r17b0r236125ad">Signaltransmitter</a> or Linode as providers. Just make sure you have enough bandwidth...remember that bandwidth usage will be (the size of a stream) * (the number of people uploading + the number of people downloading). So when I have 2 streamers stream to my server, and I download both of them, I can chew up 10GB of bandwidth in 2 hours.</p><p>I recommend using Ubuntu for the server software for the sake of ease, but you can obviously use whatever you want. As long as you get the dependencies for nginx somewhere besides apt, you can follow this guide just fine.</p><p><b>Note to Windows users:</b> This guide focuses on using Linux. If you want to use Windows, you can find Windows binaries for nginx with the RTMP module already included here: <a class="link link--external" href="http://nginx-win.ecsds.eu/download/" target="_blank" rel="noopener noreferrer">http://nginx-win.ecsds.eu/download/</a></p><p><b>Note to Mac users:</b> You can install nginx with the RTMP module via Homebrew: <a class="link link--external" href="http://brew.sh/homebrew-nginx/" target="_blank" rel="noopener noreferrer">http://brew.sh/homebrew-nginx/</a></p><p>If you are hosting your server in your home, you will have to forward TCP port 1935 to the box...this varies by router, so look up how to set up port forwarding for your router. Also, I recommend using a dynamic DNS service to overcome dynamic IP issues that come up with residential hosting.</p><p><b>Step 2: Installing nginx with RTMP module</b></p><p>Log into your box, and make sure you have the necessary tools to build nginx using the following command:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ sudo apt-get install build-essential libpcre3 libpcre3-dev libssl-dev</div></div></div><p>Now a bit of info about <a class="link link--external" href="http://nginx.org/" target="_blank" rel="noopener noreferrer">nginx</a> (pronounced "engine-X"). nginx is an extremely lightweight web server, but someone wrote a <a class="link link--external" href="https://github.com/sergey-dryabzhinsky/nginx-rtmp-module" target="_blank" rel="noopener noreferrer">RTMP module</a> for it, so it can host RTMP streams too. However, to add the RTMP module, we have to compile nginx from source rather than use the apt package. Don't worry, it's really easy. Just follow these instructions. :)</p><p>From your home directory, download the nginx source code:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ wget <a class="link link--external" href="http://nginx.org/download/nginx-1.15.1.tar.gz" target="_blank" rel="noopener noreferrer">http://nginx.org/download/nginx-1.15.1.tar.gz</a></div></div></div><p>As of this writing, the latest stable version of nginx is 1.15.1. You can find the latest version on the <a class="link link--external" href="http://nginx.org/en/download.html" target="_blank" rel="noopener noreferrer">nginx download page</a>.</p><p>Next, get the RTMP module source code from git:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ wget <a class="link link--external" href="https://github.com/sergey-dryabzhinsky/nginx-rtmp-module/archive/dev.zip" target="_blank" rel="noopener noreferrer">https://github.com/sergey-dryabzhinsky/nginx-rtmp-module/archive/dev.zip</a></div></div></div><p>Unpack/unzip them both, and enter the nginx directory:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ tar -zxvf nginx-1.15.1.tar.gz<br>$ unzip dev.zip<br>$ cd nginx-1.15.1</div></div></div><p>Now we build nginx:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ ./configure --with-http_ssl_module --add-module=../nginx-rtmp-module-dev<br>$ make<br>$ sudo make install</div></div></div><p>And nginx is installed! By default it installs to /usr/local/nginx, so to start the server run the following command:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ sudo /usr/local/nginx/sbin/nginx</div></div></div><p>And to test to make sure nginx is running, point your browser to http://&lt;your server ip&gt;/ and you should get the "Welcome to nginx!" page.</p><p><b>Step 3: Configuring nginx to use RTMP</b></p><p>Open your config file, located by default at /usr/local/nginx/conf/nginx.conf and add the following at the very end of the file:</p><div class="bbCodeBlock bbCodeBlock--screenLimited bbCodeBlock--code"><div class="bbCodeBlock-title">Code:</div><div class="bbCodeBlock-content" dir="ltr"><pre class="bbCodeCode" dir="ltr" data-xf-init="code-block" data-lang=""><code>rtmp {
        server {
                listen 1935;
                chunk_size 4096;

                application live {
                        live on;
                        record off;
                }
        }
}</code></pre></div></div><p>This is an extremely basic configuration with a "live" application that simply forwards the RTMP stream on to whoever requests it. You can play with it some more later. <a class="link link--external" href="https://github.com/arut/nginx-rtmp-module/wiki/Directives" target="_blank" rel="noopener noreferrer">Here's the whole configuration guide</a>, which shows you how to forward streams to other places (such as Twitch), save recordings of uploads, output stats, etc.</p><p>Restart nginx with:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">$ sudo /usr/local/nginx/sbin/nginx -s stop<br>$ sudo /usr/local/nginx/sbin/nginx</div></div></div><p><b>Step 4: Testing!</b></p><p>Your server should now be ready to accept RTMP streams! Let's try it out.</p><p>Create a new profile in OBS, and change your Broadcast Settings thusly:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">Streaming Service: Custom<br>Server: rtmp://&lt;your server ip&gt;/live<br>Play Path/Stream Key: test</div></div></div><p>You may be wondering where that play path "test" came from. Well, we just made it up, just now. You can basically make up any play path and stream to it, and put that path into an RTMP player, and it will play back. For simple purposes, authentication isn't necessary in my experience.</p><p>You should now be able to start streaming to your server. If you hit "Start Streaming" and don't get an error from OBS, that's a good sign.</p><p>So how do you watch it? The easiest way to do so is with VLC (v2.1.0 or later). Just Open a Network Stream and enter in rtmp://&lt;your server ip&gt;/live/test as the URL. If it all worked right, then you should now be seeing your stream in VLC!</p><p>You now have a working RTMP server! Congrats!</p><p><b>What now?</b></p><p>You can add the stream to OBS itself using the Media source or VLC source, or use something like JWPlayer to play back the RTMP stream on a web site you set up.</p><p>You can also use your RTMP server to forward to other streaming services and channels! Underneath the "record off;" line in your nginx.conf, add the following:</p><div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent">push rtmp://&lt;other streaming service rtmp url&gt;/&lt;stream key&gt;</div></div></div><p>And any stream streamed to that application will be forwarded on to the other service, as well as being served up from the server! You can add multiple "pushes" to forward the stream to multiple locations.</p><p><b>FAQ</b></p><p>Q: Why nginx? Why not crtpmserver/Red5/Wowza?<br>A: I've tried crtmpserver (aka rtmpd) before, and it works, but is harder to use. If you need to use RTSP, though, instead of RTMP, then I recommend it, since the nginx RTMP module doesn't do RTSP. Red5 seemed overly complicated and heavy to me, and written in Java...you can use it if you want though. I haven't investigated it deeply. Wowza is not free. You can use what you like, but so far nginx is lightweight, easy to use, and free, so you're going to have to pry it from my cold, dead hands.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on May 12, 2020</p><ul class="post__tag"><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/homelab/">Homelab</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/linux/">Linux</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/projects/">Projects</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/raspberry-pi/">Raspberry Pi</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/server/">Server</a></li><li><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/tutorials/">Tutorials</a></li></ul><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/authors/patrick-szalewicz/" class="invert" rel="author">Patrick Szalewicz</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://fachinformatiker.github.io/fachinformatiker.github.io/sudo.html" class="invert post__nav-link" rel="prev"><span>Previous</span> sudo</a></div><div class="post__nav-next"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/object-object.html" class="invert post__nav-link" rel="next"><span>Next</span> Untitled </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2019-12-23T12:24" class="feed__date">December 23, 2019</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/debian-10-set-up-openvpn-server-in-5-minutes.html" class="invert">Debian 10 Set Up OpenVPN Server In 5 Minutes</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-07-11T21:02" class="feed__date">July 11, 2019</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/proxy-using-ssh-tunnel.html" class="invert">Proxy Using SSH Tunnel</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-07-11T20:59" class="feed__date">July 11, 2019</time></div><h3 class="h1"><a href="https://fachinformatiker.github.io/fachinformatiker.github.io/how-can-i-have-my-own-public-dns-server-like-1111.html" class="invert">How can I have my own Public DNS Server (like 1.1.1.1)?</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://fachinformatiker.github.io/fachinformatiker.github.io/assets/js/scripts.min.js?v=205f40927e4a45297a0b266e50ad78d5"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script></body></html>